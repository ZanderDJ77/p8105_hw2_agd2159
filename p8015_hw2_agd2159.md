P8015_Hw2_agd2159
================
Zander De Jesus
10-04-2023

## Problem 1: FiveThirtyEight Data Cleaning

Begin by importing necessary libraries:

``` r
library(tidyverse)
```

    ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
    ## ✔ dplyr     1.1.3     ✔ readr     2.1.4
    ## ✔ forcats   1.0.0     ✔ stringr   1.5.0
    ## ✔ ggplot2   3.4.3     ✔ tibble    3.2.1
    ## ✔ lubridate 1.9.2     ✔ tidyr     1.3.0
    ## ✔ purrr     1.0.2     
    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()
    ## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors

``` r
library(readxl)
library(haven)
```

Task 1: Reading in and Cleaning Monthly Political Datasheet Separating
Date into 3 separate columns.

``` r
months_df =
  tibble(
    month_num = 1:12,
    month_abb = month.abb,
    month = month.name
  )
months_df
```

    ## # A tibble: 12 × 3
    ##    month_num month_abb month    
    ##        <int> <chr>     <chr>    
    ##  1         1 Jan       January  
    ##  2         2 Feb       February 
    ##  3         3 Mar       March    
    ##  4         4 Apr       April    
    ##  5         5 May       May      
    ##  6         6 Jun       June     
    ##  7         7 Jul       July     
    ##  8         8 Aug       August   
    ##  9         9 Sep       September
    ## 10        10 Oct       October  
    ## 11        11 Nov       November 
    ## 12        12 Dec       December

``` r
pols_df = read_csv("538_Data/pols-month.csv") |> 
  janitor::clean_names() |> 
  separate(col = mon,
           into = c("year", "month_num", "day"),
           sep = "-", 
           convert = TRUE) |> 
  mutate(president = recode(prez_gop, "0" = "Dem", "1" = "Gop", "2" = "Gop")) |> 
  left_join(x = _, y = months_df) |> 
  select(year, month, everything(), -day, -starts_with("prez")) 
```

    ## Rows: 822 Columns: 9
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
    ## Joining with `by = join_by(month_num)`

``` r
pols_df
```

    ## # A tibble: 822 × 11
    ##     year month     month_num gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem
    ##    <int> <chr>         <int>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>
    ##  1  1947 January           1      23      51     253      23      45     198
    ##  2  1947 February          2      23      51     253      23      45     198
    ##  3  1947 March             3      23      51     253      23      45     198
    ##  4  1947 April             4      23      51     253      23      45     198
    ##  5  1947 May               5      23      51     253      23      45     198
    ##  6  1947 June              6      23      51     253      23      45     198
    ##  7  1947 July              7      23      51     253      23      45     198
    ##  8  1947 August            8      23      51     253      23      45     198
    ##  9  1947 September         9      23      51     253      23      45     198
    ## 10  1947 October          10      23      51     253      23      45     198
    ## # ℹ 812 more rows
    ## # ℹ 2 more variables: president <chr>, month_abb <chr>
